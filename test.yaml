annotations:
        # Use the value from values.yaml, or default to "PostSync" if missing
        argocd.argoproj.io/hook: {{ $jobConfig.hook | default "PostSync" }}
        # Use the value from values.yaml, or default to "BeforeHookCreation"
        argocd.argoproj.io/hook-delete-policy: {{ $jobConfig.hookDeletePolicy | default "BeforeHookCreation" }}

resources:
          {{- toYaml ($jobConfig.resources | default dict) | nindent 10 }}

image: {{ required "A repository is required" $jobConfig.image.repository }}:{{ required "A tag is required" $jobConfig.image.tag }}
external-dns:
  default:
    verification:
      enabled: true
      jobs:
        external-dns:
          enabled: true
          # ... existing image config ...
          
          # NEW: Pass hook configuration here
          hook: PostSync
          hookDeletePolicy: HookSucceeded,HookFailed