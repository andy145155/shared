feat: Automate Istio "Retry-After" Header Verification

1. Context & Objective

We are introducing automated verification for Istio's Retry-After header handling. Previously, verifying that Envoy respects the Retry-After header during 503 failures was a manual process involving complex setup and manual editing of VirtualServices.

The goal of this PR is to fully automate this scenario to ensure consistent regression testing for Istio's rate-limited retry backoff capabilities without requiring manual intervention.

2. Solution Design

To fully automate this test without modifying the application code or relying on external mocks, we utilize EnvoyFilter resources to programmatically inject the necessary test conditions directly into the service mesh.

This approach simulates a realistic network scenario where an upstream service requests a backoff, and the downstream client respects it.

Key Components

Target-Side Header Injection (EnvoyFilter):
We deploy an EnvoyFilter to the target service's Inbound Listener. This filter injects the Retry-After: 2 header into 503 responses. This ensures the header is physically present on the network wire, allowing the Client Sidecar to see it and trigger the backoff logic.

Client-Side Retry Configuration (VirtualService & EnvoyFilter):

VirtualService: Defines the basic retry policy (retry on 503, 3 attempts).

EnvoyFilter: Patches the retry policy to enable rate_limited_retry_back_off (reading the header) and explicitly sets retry_host_predicate: []. This configuration allows the client to retry against the same pod, enabling the test to run successfully in single-replica test environments.

Automation Script (verify_retry_after.py):
A new Python script that orchestrates the test lifecycle:

Applies the temporary Istio manifests.

Executes curl with high-precision timing (-w "%{time_total}") against the target's fault endpoint.

Validates that the total request duration matches the expected Attempts * Wait_Time formula (approx. 6s for 3 retries of 2s each).

